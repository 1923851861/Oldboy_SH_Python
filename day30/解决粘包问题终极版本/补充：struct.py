import struct
import json

header_dic={
    'filename':'a.txt',
    'total_size':11112313123212222222222222222222222222222222222222222222222222222221111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111131222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222223,
    'hash':'asdf123123x123213x'
}

header_json=json.dumps(header_dic)

header_bytes=header_json.encode('utf-8')

obj=struct.pack('i',len(header_bytes))
print(obj,len(obj))
#
# res=struct.unpack('i',header)
# print(res[0])